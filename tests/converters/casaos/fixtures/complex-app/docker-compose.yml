name: jellyfin
services:
  jellyfin:
    container_name: jellyfin
    image: linuxserver/jellyfin:10.10.7
    restart: unless-stopped
    network_mode: bridge
    ports:
      - target: 8096
        published: "8097"
        protocol: tcp
      - target: 8920
        published: "8921"
        protocol: tcp
      - target: 7359
        published: "7359"
        protocol: udp
      - target: 1900
        published: "1901"
        protocol: udp
    volumes:
      - type: bind
        source: /DATA/AppData/$AppID/config
        target: /config
      - type: bind
        source: /DATA/Media
        target: /Media
    environment:
      PUID: $PUID
      PGID: $PGID
      TZ: $TZ
      JELLYFIN_PublishedServerUrl: ""
    x-casaos:
      envs:
        - container: PUID
          description:
            en_us: Run Jellyfin as specified uid
        - container: PGID
          description:
            en_us: Run Jellyfin as specified gid
        - container: TZ
          description:
            en_us: Specify a timezone to use
        - container: JELLYFIN_PublishedServerUrl
          description:
            en_us: Server URL for autodiscovery
      ports:
        - container: "8096"
          description:
            en_us: HTTP WebUI
        - container: "8920"
          description:
            en_us: HTTPS WebUI
        - container: "7359"
          description:
            en_us: Auto discovery
          protocol: udp
        - container: "1900"
          description:
            en_us: Service discovery
          protocol: udp
      volumes:
        - container: /config
          description:
            en_us: Jellyfin config directory
        - container: /Media
          description:
            en_us: Media directory

x-casaos:
  architectures:
    - amd64
    - arm64
  main: jellyfin
  author: CasaOS Team
  category: Media
  description:
    en_us: Jellyfin is a Free Software Media System that puts you in control of managing and streaming your media. Stream to any device from your own server, with no strings attached. Your media, your server, your way.
  tagline:
    en_us: The Free Software Media System
  developer: Jellyfin
  icon: https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Jellyfin/icon.png
  screenshot_link:
    - https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Jellyfin/screenshot-1.jpg
    - https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Jellyfin/screenshot-2.jpg
    - https://cdn.jsdelivr.net/gh/IceWhaleTech/CasaOS-AppStore@main/Apps/Jellyfin/screenshot-3.jpg
  port_map: "8097"
  tips:
    before_install:
      en_us: |
        Please make sure you have set up your media directory at /DATA/Media before installing Jellyfin.
        Default login credentials:
        - Username: (leave blank)
        - Password: (leave blank)
